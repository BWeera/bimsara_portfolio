<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Bimsara Weerakoon | Portfolio</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html {
  scroll-behavior: smooth;
}
section {
  transition: background-color 1s ease;
}

/* Modal background with frosted glass */
.modal-bg {
  background-color: rgba(13, 17, 23, 0.6); /* semi-transparent dark */
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Modal content styling */
.modal-content {
  background: rgba(255, 255, 255, 0.12); /* translucent white */
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  border-radius: 12px;
  padding: 1.5rem;
  max-width: 80vw;      /* wider */
  max-height: 90vh;     /* taller */
  overflow-y: auto;     /* scroll if needed */
  color: #e0e0e0;
  animation: fadeInScale 0.3s ease forwards;
}

/* Modal fade-in scale animation */
@keyframes fadeInScale {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

/* Hide scrollbars nicely */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

/* Gallery container styles */
.gallery-container {
  scroll-behavior: smooth;
  perspective: 1000px;
  max-height: 400px;
  overflow-y: scroll;
}

/* Larger images inside the gallery */
.gallery-image {
  max-width: 90%;
  height: auto;
  max-height: 400px;
  display: block;
  margin: 0 auto 1.5rem auto;
  transition: transform 0.3s ease;
  cursor: pointer;
}

  </style>
</head>
<body class="bg-[#0d1117] text-gray-200 font-sans">

  <!-- Navbar -->
  <nav id="navbar" class="fixed top-0 w-full z-50 transition-all duration-300">
    <div class="max-w-6xl mx-auto px-6 py-3 flex justify-between items-center text-white">
      <div class="text-lg font-semibold"></div>
      <ul class="flex space-x-6 text-sm md:text-base">
        <li><a href="#about" class="hover:text-blue-400">About</a></li>
        <li><a href="#projects" class="hover:text-blue-400">Projects</a></li>
        <li><a href="#experience" class="hover:text-blue-400">Experience</a></li>
        <li><a href="#education" class="hover:text-blue-400">Education</a></li>
        <li><a href="#skills" class="hover:text-blue-400">Skills</a></li>
        <li><a href="#contact" class="hover:text-blue-400">Contact</a></li>
      </ul>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="space-y-0">

    <!-- About Section -->
    <section id="about" class="h-screen flex flex-col md:flex-row justify-center items-center gap-10 px-6 bg-[#0d1117]">
      <img src="assets/profile.jpg" alt="Bimsara Weerakoon"
        class="w-56 h-56 md:w-72 md:h-72 rounded-full object-cover shadow-lg border-4 border-[#21262d]" />

      <div class="text-center md:text-left max-w-xl">
        <h1 class="text-5xl md:text-7xl font-bold text-white">Bimsara Weerakoon</h1>
        <p class="text-2xl md:text-3xl mt-4 text-gray-300">
          Software Engineer | Full-Stack & Mobile Developer | ML Enthusiast
        </p>
        <p class="mt-6 text-lg text-gray-400">
          Iâ€™m a recent graduate in Software Engineering from SLIIT with a passion for full-stack development, 
          mobile applications, and machine learning. Iâ€™ve contributed to research-backed Android apps and co-authored published papers.
        </p>

        <!-- Download CV Button -->
        <div class="mt-8">
          <a href="assets/Bimsara_Weerakoon_CV.pdf" download
             class="px-8 py-4 bg-blue-600 text-white text-lg rounded-full shadow-lg hover:bg-blue-700 transition-all duration-300 inline-block">
            ðŸ“„ Download CV
          </a>
        </div>
      </div>
    </section>

    <!-- Projects Section -->
    <section id="projects" class="min-h-screen flex flex-col justify-center bg-[#161b22] p-6 rounded-lg shadow-md">
      <h2 class="text-2xl font-semibold mb-6">Projects</h2>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <!-- Project Cards -->
       <!-- Project 1 -->
        <div 
          class="bg-[#1c2128] rounded-lg overflow-hidden shadow-lg transition-all duration-300 cursor-pointer hover:shadow-xl"
          onclick="openProjectModal(1)">
          
          <!-- Image on top, full width, no cropping -->
          <img src="assets/P1_img4.png" alt="Project 1" class="w-full object-contain rounded-t-lg" />
          
          <div class="p-4">
            <h3 class="text-xl font-bold mb-2">Project Management System (MERN)</h3>
            <a href="https://github.com/it21250156/ProjectManagementTool.git" target="_blank"
              class="inline-block bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-md text-sm transition">
              View on GitHub
            </a>
          </div>
        </div>

        <!-- Project 2 -->
        <div 
          class="bg-[#1c2128] rounded-lg overflow-hidden shadow-lg transition-all duration-300 cursor-pointer hover:shadow-xl"
          onclick="openProjectModal(2)">

          <img src="assets/P2_img1.png" alt="Project 2" class="w-full object-contain rounded-t-lg">

          <div class="p-4">
            <h3 class="text-xl font-bold mb-2">EasyReach App (Kotlin)</h3>
            
            <a href="https://github.com/it21250156/EasyReach.git" target="_blank"
              class="inline-block bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-md text-sm transition">
              View on GitHub
            </a>
          </div>
        </div>

        <!-- Project 3 -->
        <div 
          class="bg-[#1c2128] rounded-lg overflow-hidden shadow-lg transition-all duration-300 cursor-pointer hover:shadow-xl"
          onclick="openProjectModal(3)">
          <div class="p-4">
            <h3 class="text-xl font-bold mb-2">Gems & Jewelry Web App (MERN)</h3>
            <img src="assets/project3-thumb.jpg" alt="Project 3" class="rounded-md mb-4 object-cover h-48 w-full">
            <a href="https://github.com/yourusername/project3" target="_blank"
              class="inline-block bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-md text-sm transition">
              View on GitHub
            </a>
          </div>
        </div>

        <!-- Project 4 -->
        <div 
          class="bg-[#1c2128] rounded-lg overflow-hidden shadow-lg transition-all duration-300 cursor-pointer hover:shadow-xl"
          onclick="openProjectModal(4)">
          <div class="p-4">
            <h3 class="text-xl font-bold mb-2">ML Research App</h3>
            <img src="assets/project4-thumb.jpg" alt="Project 4" class="rounded-md mb-4 object-cover h-48 w-full">
            <a href="https://github.com/yourusername/project4" target="_blank"
              class="inline-block bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-md text-sm transition">
              View on GitHub
            </a>
          </div>
        </div>

        <!-- Project 5 -->
        <div 
          class="bg-[#1c2128] rounded-lg overflow-hidden shadow-lg transition-all duration-300 cursor-pointer hover:shadow-xl"
          onclick="openProjectModal(5)">
          <div class="p-4">
            <h3 class="text-xl font-bold mb-2">Accessibility Tools Suite</h3>
            <img src="assets/project5-thumb.jpg" alt="Project 5" class="rounded-md mb-4 object-cover h-48 w-full">
            <a href="https://github.com/yourusername/project5" target="_blank"
              class="inline-block bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-md text-sm transition">
              View on GitHub
            </a>
          </div>
        </div>

        <!-- Project 6 -->
        <div 
          class="bg-[#1c2128] rounded-lg overflow-hidden shadow-lg transition-all duration-300 cursor-pointer hover:shadow-xl"
          onclick="openProjectModal(6)">
          <div class="p-4">
            <h3 class="text-xl font-bold mb-2">Data Visualization Dashboard</h3>
            <img src="assets/project6-thumb.jpg" alt="Project 6" class="rounded-md mb-4 object-cover h-48 w-full">
            <a href="https://github.com/yourusername/project6" target="_blank"
              class="inline-block bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-md text-sm transition">
              View on GitHub
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Experience -->
    <section id="experience" class="h-screen flex items-center justify-center bg-[#0f131a]">
      <div class="max-w-4xl p-6">
        <h2 class="text-4xl font-semibold mb-4">Experience</h2>
        <p class="text-lg font-medium">Mobile Application Developer Intern â€“ Ulster University (Jul 2024 - Jan 2025)</p>
        <ul class="list-disc pl-5 space-y-1 mt-2 text-lg">
          <li>Developed Android solutions with Kotlin and ML Kit.</li>
          <li>Collaborated on accessibility features and bug fixes.</li>
        </ul>
      </div>
    </section>

    <!-- Education -->
    <section id="education" class="h-screen flex items-center justify-center bg-[#141b24]">
      <div class="max-w-4xl p-6">
        <h2 class="text-4xl font-semibold mb-4">Education</h2>
        <p class="text-lg">BSc (Hons) in Information Technology â€“ Software Engineering, SLIIT (2021 - 2025)</p>
      </div>
    </section>

    <!-- Skills -->
    <section id="skills" class="h-screen flex items-center justify-center bg-[#19222c]">
      <div class="max-w-4xl p-6">
        <h2 class="text-4xl font-semibold mb-4">Skills</h2>
        <p class="text-lg"><strong>Languages:</strong> Java, Kotlin, JavaScript, Python, SQL, R, C/C++</p>
        <p class="text-lg mt-2"><strong>Tools:</strong> Git, React, Node.js, Express, MongoDB, Adobe Photoshop, Premiere Pro</p>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="h-screen flex items-center justify-center bg-[#1e2a38]">
      <div class="max-w-4xl p-6">
        <h2 class="text-4xl font-semibold mb-4">Contact</h2>
        <p class="text-lg">Email: <a href="mailto:bimsaraweerakoon@gmail.com" class="text-blue-500 hover:underline">bimsaraweerakoon@gmail.com</a></p>
        <p class="text-lg">Phone: +94 776859787</p>
        <p class="text-lg">GitHub: <a href="https://github.com/" class="text-blue-500 hover:underline">github.com/yourusername</a></p>
        <p class="text-lg">YouTube: <a href="#" class="text-blue-500 hover:underline">Your Tech Channel</a></p>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="bg-[#161b22] text-white text-center py-4">
    <p>&copy; 2025 Bimsara Weerakoon</p>
  </footer>

  <!-- Project Modals -->

  <!-- Modal Template: copy and update for each project -->

  <!-- Modal 1 -->
  <div id="project-modal-1" class="fixed inset-0 hidden modal-bg z-50 items-center justify-center p-4">
    <div class="modal-content bg-[#161b22] rounded-lg p-6 max-w-3xl w-full relative">
      <button 
        onclick="closeProjectModal(1)" 
        class="absolute top-3 right-3 text-white text-3xl font-bold hover:text-gray-400"
        aria-label="Close modal">&times;</button>
      <h3 class="text-3xl font-bold mb-4">Project Management System (MERN)</h3>
      <p class="mb-4 text-gray-300">
        A full-featured project management system with gamified contribution tracking and IEEE paper publication.
      </p>

      <p class="text-sm text-gray-400 italic mb-2 select-none animate-pulse">
        Double-click or double-tap images to view fullscreen
      </p>

      <!-- Scrollable vertical gallery container -->
      <div id="gallery-1" class="gallery-container mb-4 max-h-[400px] overflow-y-scroll no-scrollbar">
        <img src="assets/P1_img1.png" alt="Screenshot 1" class="gallery-image rounded-md mx-auto mb-6" />
        <img src="assets/P1_img2.png" alt="Screenshot 2" class="gallery-image rounded-md mx-auto mb-6" />
        <img src="assets/P1_img3.png" alt="Screenshot 3" class="gallery-image rounded-md mx-auto mb-6" />
        <img src="assets/P1_img4.png" alt="Screenshot 4" class="gallery-image rounded-md mx-auto mb-6" />
      </div>

      <ul class="list-disc list-inside space-y-2 text-gray-300">
        <li>Developed a gamified system for project contributors, featuring points, levels, and badges to encourage participation.</li>
        <li>Implemented dynamic leaderboards and real-time contribution tracking.</li>
        <li>Integrated with AI timeline prediction and delay probability prediction.</li>
        <li>Published the research about the software and qualified for NBSQA 2025.</li>
      </ul>
      <br>
      <a href="https://github.com/it21250156/ProjectManagementTool.git" target="_blank" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">View GitHub Repo</a>
    </div>
  </div>


  <!-- Modal 2 -->
  <div id="project-modal-2" class="fixed inset-0 hidden modal-bg z-50 items-center justify-center p-4">
    <div class="modal-content bg-[#161b22] rounded-lg p-6 max-w-4xl w-full relative">
      <button 
        onclick="closeProjectModal(2)" 
        class="absolute top-3 right-3 text-white text-3xl font-bold hover:text-gray-400"
        aria-label="Close modal">&times;</button>
      <h3 class="text-3xl font-bold mb-4">EasyReach App (Kotlin)</h3>
      <p class="mb-4 text-gray-300">
        An Android application designed for visually impaired users, offering voice navigation and accessibility tools.
      </p>

      <!-- Hint -->
      <p class="text-sm text-gray-400 italic mb-2 select-none animate-pulse">
        Double-click or double-tap images to view fullscreen
      </p>

      <!-- Scrollable vertical gallery container -->
      <div id="gallery-2" class="gallery-container mb-4 max-h-[400px] overflow-y-scroll no-scrollbar space-y-6">
        <img src="assets/P2_img3.png" alt="Screenshot 1" class="gallery-image rounded-md mx-auto" />
        <img src="assets/p2_img2.png" alt="Screenshot 2" class="gallery-image rounded-md mx-auto" />
      </div>

      <a href="https://github.com/it21250156/EasyReach.git" target="_blank" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">View GitHub Repo</a>
    </div>
  </div>

  <!-- Modal 3 -->
  <div id="project-modal-3" class="fixed inset-0 hidden modal-bg z-50 items-center justify-center p-4">
    <div class="modal-content bg-[#161b22] rounded-lg p-6 max-w-3xl w-full relative">
      <button onclick="closeProjectModal(3)" class="absolute top-3 right-3 text-white text-3xl font-bold hover:text-gray-400" aria-label="Close modal">&times;</button>
      <h3 class="text-3xl font-bold mb-4">Gems & Jewelry Web App (MERN)</h3>
      <p class="mb-4 text-gray-300">
        Request tracking system with admin reports and user management.
      </p>
      <div class="grid grid-cols-2 gap-4 mb-4">
        <img src="assets/project3-1.jpg" alt="Screenshot 1" class="rounded-md">
        <img src="assets/project3-2.jpg" alt="Screenshot 2" class="rounded-md">
      </div>
      <a href="https://github.com/yourusername/project3" target="_blank" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">View GitHub Repo</a>
    </div>
  </div>

  <!-- Modal 4 -->
  <div id="project-modal-4" class="fixed inset-0 hidden modal-bg z-50 items-center justify-center p-4">
    <div class="modal-content bg-[#161b22] rounded-lg p-6 max-w-3xl w-full relative">
      <button onclick="closeProjectModal(4)" class="absolute top-3 right-3 text-white text-3xl font-bold hover:text-gray-400" aria-label="Close modal">&times;</button>
      <h3 class="text-3xl font-bold mb-4">ML Research App</h3>
      <p class="mb-4 text-gray-300">
        Machine learning research project focusing on image classification and model optimization.
      </p>
      <div class="grid grid-cols-2 gap-4 mb-4">
        <img src="assets/project4-1.jpg" alt="Screenshot 1" class="rounded-md">
        <img src="assets/project4-2.jpg" alt="Screenshot 2" class="rounded-md">
      </div>
      <a href="https://github.com/yourusername/project4" target="_blank" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">View GitHub Repo</a>
    </div>
  </div>

  <!-- Modal 5 -->
  <div id="project-modal-5" class="fixed inset-0 hidden modal-bg z-50 items-center justify-center p-4">
    <div class="modal-content bg-[#161b22] rounded-lg p-6 max-w-3xl w-full relative">
      <button onclick="closeProjectModal(5)" class="absolute top-3 right-3 text-white text-3xl font-bold hover:text-gray-400" aria-label="Close modal">&times;</button>
      <h3 class="text-3xl font-bold mb-4">Accessibility Tools Suite</h3>
      <p class="mb-4 text-gray-300">
        Suite of accessibility tools enhancing usability for differently-abled users.
      </p>
      <div class="grid grid-cols-2 gap-4 mb-4">
        <img src="assets/project5-1.jpg" alt="Screenshot 1" class="rounded-md">
        <img src="assets/project5-2.jpg" alt="Screenshot 2" class="rounded-md">
      </div>
      <a href="https://github.com/yourusername/project5" target="_blank" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">View GitHub Repo</a>
    </div>
  </div>

  <!-- Modal 6 -->
  <div id="project-modal-6" class="fixed inset-0 hidden modal-bg z-50 items-center justify-center p-4">
    <div class="modal-content bg-[#161b22] rounded-lg p-6 max-w-3xl w-full relative">
      <button onclick="closeProjectModal(6)" class="absolute top-3 right-3 text-white text-3xl font-bold hover:text-gray-400" aria-label="Close modal">&times;</button>
      <h3 class="text-3xl font-bold mb-4">Data Visualization Dashboard</h3>
      <p class="mb-4 text-gray-300">
        Interactive dashboard displaying key metrics and analytics with modern charts.
      </p>
      <div class="grid grid-cols-2 gap-4 mb-4">
        <img src="assets/project6-1.jpg" alt="Screenshot 1" class="rounded-md">
        <img src="assets/project6-2.jpg" alt="Screenshot 2" class="rounded-md">
      </div>
      <a href="https://github.com/yourusername/project6" target="_blank" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">View GitHub Repo</a>
    </div>
  </div>

  <!-- Script for navbar scroll effect and modal control -->
  <script>
  // Navbar scroll effect
  window.addEventListener("scroll", function () {
    const navbar = document.getElementById("navbar");
    if (window.scrollY > 20) {
      navbar.classList.add(
        "backdrop-blur-md",
        "bg-[#0d1117]/10",
        "border-b",
        "border-white/10"
      );
    } else {
      navbar.classList.remove(
        "backdrop-blur-md",
        "bg-[#0d1117]/10",
        "border-b",
        "border-white/10"
      );
    }
  });

  // Open modal by id
  function openProjectModal(id) {
    const modal = document.getElementById(`project-modal-${id}`);
    if (!modal) return;

    modal.classList.remove("hidden");
    document.body.style.overflow = "hidden"; // lock background scroll

    // Setup gallery scaling if gallery exists
    setupWheelGallery(`gallery-${id}`);

    // Reset gallery scroll to top after a slight delay to allow rendering
    const gallery = modal.querySelector(".gallery-container");
    if (gallery) {
      setTimeout(() => {
        gallery.scrollTop = 0;
        // Trigger scale update once shown
        updateGalleryScale(gallery);
      }, 100);
    }
  }

  // Close modal by id
  function closeProjectModal(id) {
    const modal = document.getElementById(`project-modal-${id}`);
    if (!modal) return;

    modal.classList.add("hidden");
    document.body.style.overflow = ""; // restore scroll
  }

  // Close modal on clicking outside modal content
  window.addEventListener("click", function(event) {
    for(let i = 1; i <= 6; i++) {
      const modal = document.getElementById(`project-modal-${i}`);
      if (modal && !modal.classList.contains("hidden") && event.target === modal) {
        closeProjectModal(i);
      }
    }
  });

  // Universal function to update scales for any gallery container element
  function updateGalleryScale(container) {
    const containerRect = container.getBoundingClientRect();
    const containerCenterY = containerRect.top + containerRect.height / 2;

    Array.from(container.children).forEach(img => {
      const imgRect = img.getBoundingClientRect();
      const imgCenterY = imgRect.top + imgRect.height / 2;

      // Distance from container center (in px)
      const distance = Math.abs(containerCenterY - imgCenterY);

      // Normalize and clamp scale
      const maxDistance = containerRect.height / 2;
      let scale = 1 - (distance / maxDistance) * 0.5;
      scale = Math.min(Math.max(scale, 0.5), 1);

      img.style.transform = `scale(${scale})`;
    });
  }

  // Setup wheel gallery scroll animation by gallery container ID
  function setupWheelGallery(galleryId) {
    const container = document.getElementById(galleryId);
    if (!container) return;

    // Function to update scale of images based on scroll position
    function updateGalleryScale(container) {
      const containerRect = container.getBoundingClientRect();
      const containerCenterY = containerRect.top + containerRect.height / 2;

      Array.from(container.children).forEach(img => {
        const imgRect = img.getBoundingClientRect();
        const imgCenterY = imgRect.top + imgRect.height / 2;

        // Distance from container center (in px)
        const distance = Math.abs(containerCenterY - imgCenterY);

        // Normalize distance and clamp
        const maxDistance = containerRect.height / 2;
        let scale = 1 - (distance / maxDistance) * 0.5; // Scale from 1 to 0.5

        if (scale < 0.5) scale = 0.5;
        if (scale > 1) scale = 1;

        img.style.transform = `scale(${scale})`;
      });
    }

    // Initial call
    updateGalleryScale(container);

    // Throttle scroll event with requestAnimationFrame for performance
    let ticking = false;

    // For snapping after scroll stops
    let scrollTimeout;

    container.addEventListener('scroll', () => {
      // Throttled scale update
      if (!ticking) {
        window.requestAnimationFrame(() => {
          updateGalleryScale(container);
          ticking = false;
        });
        ticking = true;
      }

      // Clear previous timeout if still waiting
      if (scrollTimeout) clearTimeout(scrollTimeout);

      // Set new timeout for snapping 150ms after scroll stops
      scrollTimeout = setTimeout(() => {
        // Find image closest to container center
        const containerRect = container.getBoundingClientRect();
        const containerCenterY = containerRect.top + containerRect.height / 2;

        let closestImg = null;
        let minDistance = Infinity;

        Array.from(container.children).forEach(img => {
          const imgRect = img.getBoundingClientRect();
          const imgCenterY = imgRect.top + imgRect.height / 2;
          const distance = Math.abs(containerCenterY - imgCenterY);
          if (distance < minDistance) {
            minDistance = distance;
            closestImg = img;
          }
        });

        if (closestImg) {
          // Scroll so the closest image is centered vertically
          const scrollTarget = closestImg.offsetTop - (container.clientHeight / 2) + (closestImg.clientHeight / 2);

          container.scrollTo({
            top: scrollTarget,
            behavior: 'smooth'
          });
        }
      }, 150);
    });

    // Also update on window resize
    window.addEventListener('resize', () => updateGalleryScale(container));
  }


  // Fullscreen open function
  function openFullscreen(element) {
    if (element.requestFullscreen) {
      element.requestFullscreen();
    } else if (element.webkitRequestFullscreen) { /* Safari */
      element.webkitRequestFullscreen();
    } else if (element.msRequestFullscreen) { /* IE11 */
      element.msRequestFullscreen();
    }
  }

  // Add double-click/double-tap fullscreen on all gallery images dynamically
  function addFullscreenListeners() {
    document.querySelectorAll('.gallery-image').forEach(img => {
      img.addEventListener('dblclick', () => openFullscreen(img));

      // Mobile double-tap detection
      let lastTap = 0;
      img.addEventListener('touchend', (e) => {
        const currentTime = new Date().getTime();
        const tapLength = currentTime - lastTap;
        if (tapLength < 300 && tapLength > 0) {
          e.preventDefault();
          openFullscreen(img);
        }
        lastTap = currentTime;
      });
    });
  }

  // Initialize fullscreen listeners on DOM ready
  document.addEventListener("DOMContentLoaded", addFullscreenListeners);
</script>


</body>
</html>
